<?php
if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Login extends MX_Controller {

       public function __construct()
       {
            parent::__construct();
            // Your own constructor code
       }

       public function index(){
       		$this->load->view('loginview', FALSE);
       }

       public function login(){
       		$config= array(
       			array(
       				'field'			=>	'email',
					'label'			=>	'Username',
					'rules'			=>	'required|xss_clean|valid_email'
   				),
   				array(
       				'field'			=>	'password',
					'label'			=>	'Password',
					'rules'			=>	'required|xss_clean'
   				)
   			);

   			$this->form_validation->set_rules($config);

			if($this->form_validation->run()==false){
				
			}else{
					$identity= $this->input->post('email');
					$password= $this->input->post('password');
					if($this->ion_auth->login($identity, $password, $remember)){
						$this->session->userdata('id')=$id;
					}
			}
       }
}
?>